# 3. 字段命名

字段名必须使用小写字母开头，允许包含字母，数字和下划线。使用容易理解的字段名，因为查询日志的人并不是写日志的人，减少使用晦涩的简称。

数字字段的名字必须是能通过后缀推断出来的，比如 `_total`, `_diff`, `_seconds`, `_count`, `_amount` 等等。

日志中的所有嵌套字段首先会被摊平，使用 `_` 连接字段名，比如

	{
	  "res": {
	    "gem_diff": 100,
	    "gem_total": 500
	  }
	}

和下面的结构是等价的

	{
	  "res_gem_diff": 100,
	  "res_gem_total": 500
	}

所有字段根据前缀分组成模块，需要记录的数据如果符合某个模块必须使用对应的模块输出日志。如果没有模块能满足，使用项目名做为自定义模块，即和程序名中的 `PROJECT` 相同，或者使用 `extra` 模块。

因为日志最终会被摊平，模块可以使用嵌套的结构，也可以使用摊平之后的结构。注意使用嵌套的模块格式的话，`slogger` 并不会递归合并字段。

对于通用性高的可以按照本文档定义新的模块并提交 Merge Request。

注意在 Graylog 中所有 JSON 中提取的字段都会添加 `json_` 的前缀，等项目日志规范下来之后会去掉该前缀。
